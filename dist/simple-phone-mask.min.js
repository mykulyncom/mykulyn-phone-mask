!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SimplePhoneMask=t():e.SimplePhoneMask=t()}(this,(function(){return function(){"use strict";var e={d:function(t,_){for(var n in _)e.o(_,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:_[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var t={};e.d(t,{default:function(){return a}});const _={UA:{name:"Ukraine",phoneCode:"+380",flag:"https://flagcdn.com/ua.svg",mask:"(__) ___-__-__"},US:{name:"United States",phoneCode:"+1",flag:"https://flagcdn.com/us.svg",mask:"(___) ___-____"},GB:{name:"United Kingdom",phoneCode:"+44",flag:"https://flagcdn.com/gb.svg",mask:"____ ______"},DE:{name:"Germany",phoneCode:"+49",flag:"https://flagcdn.com/de.svg",mask:"(__) ____ ____"},FR:{name:"France",phoneCode:"+33",flag:"https://flagcdn.com/fr.svg",mask:"_ __ __ __ __"},PL:{name:"Poland",phoneCode:"+48",flag:"https://flagcdn.com/pl.svg",mask:"___-___-___"},IT:{name:"Italy",phoneCode:"+39",flag:"https://flagcdn.com/it.svg",mask:"(___) ____-____"},ES:{name:"Spain",phoneCode:"+34",flag:"https://flagcdn.com/es.svg",mask:"(___) ___-___"},NL:{name:"Netherlands",phoneCode:"+31",flag:"https://flagcdn.com/nl.svg",mask:"__ ________"},CZ:{name:"Czech Republic",phoneCode:"+420",flag:"https://flagcdn.com/cz.svg",mask:"___-___-___"},RU:{name:"Russia",phoneCode:"+7",flag:"https://flagcdn.com/ru.svg",mask:"(___) ___-__-__"},CN:{name:"China",phoneCode:"+86",flag:"https://flagcdn.com/cn.svg",mask:"(___) ____-____"},JP:{name:"Japan",phoneCode:"+81",flag:"https://flagcdn.com/jp.svg",mask:"(__) ____-____"},KR:{name:"South Korea",phoneCode:"+82",flag:"https://flagcdn.com/kr.svg",mask:"(__) ____-____"},IN:{name:"India",phoneCode:"+91",flag:"https://flagcdn.com/in.svg",mask:"(___) ___-____"},BR:{name:"Brazil",phoneCode:"+55",flag:"https://flagcdn.com/br.svg",mask:"(___) ____-____"},MX:{name:"Mexico",phoneCode:"+52",flag:"https://flagcdn.com/mx.svg",mask:"(___) ___-____"},AU:{name:"Australia",phoneCode:"+61",flag:"https://flagcdn.com/au.svg",mask:"_ ____ ____"},NZ:{name:"New Zealand",phoneCode:"+64",flag:"https://flagcdn.com/nz.svg",mask:"_ ___ ____"},CA:{name:"Canada",phoneCode:"+1",flag:"https://flagcdn.com/ca.svg",mask:"(___) ___-____"},IE:{name:"Ireland",phoneCode:"+353",flag:"https://flagcdn.com/ie.svg",mask:"(__) ___-____"},SE:{name:"Sweden",phoneCode:"+46",flag:"https://flagcdn.com/se.svg",mask:"(__) ___-____"},NO:{name:"Norway",phoneCode:"+47",flag:"https://flagcdn.com/no.svg",mask:"__ __ __ __"},DK:{name:"Denmark",phoneCode:"+45",flag:"https://flagcdn.com/dk.svg",mask:"__ __ __ __"},FI:{name:"Finland",phoneCode:"+358",flag:"https://flagcdn.com/fi.svg",mask:"(__) ___-____"},AT:{name:"Austria",phoneCode:"+43",flag:"https://flagcdn.com/at.svg",mask:"(__) ___-____"},CH:{name:"Switzerland",phoneCode:"+41",flag:"https://flagcdn.com/ch.svg",mask:"(__) ___-____"},BE:{name:"Belgium",phoneCode:"+32",flag:"https://flagcdn.com/be.svg",mask:"(__) ___-____"},PT:{name:"Portugal",phoneCode:"+351",flag:"https://flagcdn.com/pt.svg",mask:"___-___-___"},GR:{name:"Greece",phoneCode:"+30",flag:"https://flagcdn.com/gr.svg",mask:"(___) ___-____"},HU:{name:"Hungary",phoneCode:"+36",flag:"https://flagcdn.com/hu.svg",mask:"(__) ___-____"},RO:{name:"Romania",phoneCode:"+40",flag:"https://flagcdn.com/ro.svg",mask:"(__) ___-____"},BG:{name:"Bulgaria",phoneCode:"+359",flag:"https://flagcdn.com/bg.svg",mask:"(__) ___-____"},HR:{name:"Croatia",phoneCode:"+385",flag:"https://flagcdn.com/hr.svg",mask:"(__) ___-____"},RS:{name:"Serbia",phoneCode:"+381",flag:"https://flagcdn.com/rs.svg",mask:"(__) ___-____"},SK:{name:"Slovakia",phoneCode:"+421",flag:"https://flagcdn.com/sk.svg",mask:"(__) ___-____"},SI:{name:"Slovenia",phoneCode:"+386",flag:"https://flagcdn.com/si.svg",mask:"(__) ___-____"},IL:{name:"Israel",phoneCode:"+972",flag:"https://flagcdn.com/il.svg",mask:"___-___-____"},TR:{name:"Turkey",phoneCode:"+90",flag:"https://flagcdn.com/tr.svg",mask:"(___) ___-____"},AE:{name:"United Arab Emirates",phoneCode:"+971",flag:"https://flagcdn.com/ae.svg",mask:"(__) ___-____"},SA:{name:"Saudi Arabia",phoneCode:"+966",flag:"https://flagcdn.com/sa.svg",mask:"(__) ___-____"},EG:{name:"Egypt",phoneCode:"+20",flag:"https://flagcdn.com/eg.svg",mask:"(___) ___-____"},ZA:{name:"South Africa",phoneCode:"+27",flag:"https://flagcdn.com/za.svg",mask:"(__) ___-____"},SG:{name:"Singapore",phoneCode:"+65",flag:"https://flagcdn.com/sg.svg",mask:"____-____"},MY:{name:"Malaysia",phoneCode:"+60",flag:"https://flagcdn.com/my.svg",mask:"(__) ___-____"},TH:{name:"Thailand",phoneCode:"+66",flag:"https://flagcdn.com/th.svg",mask:"(__) ___-____"},VN:{name:"Vietnam",phoneCode:"+84",flag:"https://flagcdn.com/vn.svg",mask:"(___) ____-___"},PH:{name:"Philippines",phoneCode:"+63",flag:"https://flagcdn.com/ph.svg",mask:"(___) ___-____"},ID:{name:"Indonesia",phoneCode:"+62",flag:"https://flagcdn.com/id.svg",mask:"(___) ___-____"},AR:{name:"Argentina",phoneCode:"+54",flag:"https://flagcdn.com/ar.svg",mask:"(___) ___-____"},CL:{name:"Chile",phoneCode:"+56",flag:"https://flagcdn.com/cl.svg",mask:"(__) ___-____"},CO:{name:"Colombia",phoneCode:"+57",flag:"https://flagcdn.com/co.svg",mask:"(___) ___-____"},PE:{name:"Peru",phoneCode:"+51",flag:"https://flagcdn.com/pe.svg",mask:"(___) ___-____"}};var n=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.selector=e;let n;if(this.options={countryCode:"UA",maskPattern:null,showFlag:!0,allowCountrySelect:!0,...t},this.options.countryCode.startsWith("+")){const e=this.options.countryCode;n=Object.values(_).find((t=>t.phoneCode===e))}else n=_[this.options.countryCode.toUpperCase()];n||(n=_.UA),this.countryCode=n.phoneCode.replace("+",""),this.maskPattern=this.options.maskPattern||n.mask,this.prefixLength=this.countryCode.length+1,this.currentCountry=n,this.createMask=this.createMask.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleSelect=this.handleSelect.bind(this),this.handleCountrySelect=this.handleCountrySelect.bind(this),this.createDropdown=this.createDropdown.bind(this),this.init()}setCursorPosition(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let _=t.createTextRange();_.collapse(!0),_.moveEnd("character",e),_.moveStart("character",e),_.select()}}handleClick(e){const t=e.target;t.selectionStart<this.prefixLength+1&&this.setCursorPosition(this.prefixLength+1,t)}handleKeyDown(e){const t=e.target,_=t.selectionStart;("Backspace"===e.key||"ArrowLeft"===e.key||"ArrowUp"===e.key)&&_<=this.prefixLength&&(e.preventDefault(),t.setSelectionRange(this.prefixLength+1,this.prefixLength+1));const n=t.value.replace(/\D/g,"").length-this.countryCode.length;"ArrowUp"===e.key&&n>1&&e.preventDefault()}handleSelect(e){const t=e.target;t.selectionStart<this.prefixLength+1&&this.setCursorPosition(this.prefixLength+1,t)}createMask(e){const t=e.target,_="+"+this.countryCode+" "+this.maskPattern;let n=0;_.replace(/\D/g,"");let a=t.value.replace(/\D/g,"");t.value=_.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<a.length?a.charAt(n++):n>=a.length?"":e})),"blur"===e.type?t.value.length<=this.prefixLength+1&&(t.value="+"+this.countryCode):this.setCursorPosition(t.value.length,t)}createDropdown(e){if(!this.options.showFlag)return;const t=document.createElement("div");t.style.position="relative",t.style.display="inline-block",e.parentNode.insertBefore(t,e),t.appendChild(e);const n=document.createElement("div");if(n.className="spm-flag-button",n.style.position="absolute",n.style.left="5px",n.style.top="50%",n.style.transform="translateY(-50%)",n.style.cursor=this.options.allowCountrySelect?"pointer":"default",n.innerHTML=`<img src="${this.currentCountry.flag}" alt="${this.currentCountry.name}" style="width: 20px; height: 15px; object-fit: cover; border-radius: 2px;">`,t.appendChild(n),e.style.paddingLeft="35px",this.options.allowCountrySelect){const a=document.createElement("div");a.className="spm-dropdown",a.style.display="none",a.style.position="absolute",a.style.top="100%",a.style.left="0",a.style.zIndex="1000",a.style.backgroundColor="#fff",a.style.border="1px solid #ccc",a.style.maxHeight="200px",a.style.overflowY="auto",a.style.width="250px",Object.entries(_).forEach((t=>{let[_,n]=t;const s=document.createElement("div");s.className="spm-dropdown-option",s.style.padding="8px",s.style.cursor="pointer",s.style.display="flex",s.style.alignItems="center",s.style.gap="8px",s.innerHTML=`\n          <img src="${n.flag}" alt="${n.name}" style="width: 20px; height: 15px; object-fit: cover; border-radius: 2px;">\n          <span>${n.name}</span>\n          <span style="color: #666; margin-left: auto;">${n.phoneCode}</span>\n        `,s.addEventListener("click",(()=>this.handleCountrySelect(n,_,e))),s.addEventListener("mouseover",(()=>{s.style.backgroundColor="#f0f0f0"})),s.addEventListener("mouseout",(()=>{s.style.backgroundColor=""})),a.appendChild(s)})),t.appendChild(a),n.addEventListener("click",(()=>{a.style.display="none"===a.style.display?"block":"none"})),document.addEventListener("click",(e=>{t.contains(e.target)||(a.style.display="none")}))}}handleCountrySelect(e,t,_){this.countryCode=e.phoneCode.replace("+",""),this.maskPattern=this.options.maskPattern||e.mask,this.prefixLength=this.countryCode.length+1,this.currentCountry=e;_.parentNode.querySelector(".spm-flag-button").innerHTML=`<img src="${e.flag}" alt="${e.name}" style="width: 20px; height: 15px; object-fit: cover; border-radius: 2px;">`;_.parentNode.querySelector(".spm-dropdown").style.display="none",_.value="+"+this.countryCode,this.createMask({type:"input",target:_}),_.focus()}init(){document.querySelectorAll(this.selector).forEach((e=>{this.options.showFlag&&this.createDropdown(e),e.addEventListener("input",this.createMask),e.addEventListener("focus",this.createMask),e.addEventListener("blur",this.createMask),e.addEventListener("click",this.handleClick),e.addEventListener("keydown",this.handleKeyDown),e.addEventListener("select",this.handleSelect),e.value="+"+this.countryCode,this.createMask({type:"focus",target:e})}))}destroy(){document.querySelectorAll(this.selector).forEach((e=>{e.removeEventListener("input",this.createMask),e.removeEventListener("focus",this.createMask),e.removeEventListener("blur",this.createMask),e.removeEventListener("click",this.handleClick),e.removeEventListener("keydown",this.handleKeyDown),e.removeEventListener("select",this.handleSelect)}))}};e.g.SimplePhoneMask=n;var a=n;return t=t.default}()}));